<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Stack Map Reference Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>A PHP file is used for API Connection, which is fundamentally a glue to link all our components together: Map generator, Map editor, and database. Because of the API Connection, administrators are able to save the changes that they made to the library to our database, and users are able to find the location of their book based information in our database.</p>

<h1 id="deployment-instructions">Deployment instructions</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight ruby tab-ruby"><code><span class="nb">require</span> <span class="s1">'kittn'</span>

<span class="n">api</span> <span class="o">=</span> <span class="no">Kittn</span><span class="o">::</span><span class="no">APIClient</span><span class="p">.</span><span class="nf">authorize!</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">)</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">kittn</span>

<span class="n">api</span> <span class="o">=</span> <span class="n">kittn</span><span class="o">.</span><span class="n">authorize</span><span class="p">(</span><span class="s">'meowmeowmeow'</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -H <span class="s2">"Authorization: meowmeowmeow"</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kr">const</span> <span class="nx">kittn</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'kittn'</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">api</span> <span class="o">=</span> <span class="nx">kittn</span><span class="p">.</span><span class="nx">authorize</span><span class="p">(</span><span class="s1">'meowmeowmeow'</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>Make sure to replace <code class="prettyprint">meowmeowmeow</code> with your API key.</p>
</blockquote>

<p>Follow this guide to deploy our system.</p>

<h1 id="json-format">JSON Format</h1>

<h2 id="library">library</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">floors</code></td>
<td>array of <a href="#floor">floor</a> objects</td>
</tr>
</tbody></table>

<h2 id="floor">floor</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">walls</code></td>
<td>array of <a href="#wall">wall</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisle_areas</code></td>
<td>array of <a href="#aisle_area">aisle_area</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>array of <a href="#aisle">aisle</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">landmarks</code></td>
<td>array of <a href="#landmark">landmark</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">library</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>library refers to the library_id, which this floor belongs to..</p>

<h2 id="wall">wall</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">wall_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">start_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">start_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">end_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">end_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>floor refers to the floor_id, which this wall belongs to.</p>

<h2 id="aisle_area">aisle_area</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_area_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>array of <a href="#aisle">aisle</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>floor refers to the floor_id, which this aisle_area belongs to.</p>

<h2 id="aisle">aisle</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">is_double_sided</code></td>
<td>boolean</td>
</tr>
<tr>
<td><code class="prettyprint">call_ranges</code></td>
<td>array of <a href="#call_range">call_range</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisle_area</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>aisle_area refers to the aisle_area_id, which this aisle belongs to.
floor refers to the floor_id, which this aisle belongs to.</p>

<h2 id="call_range">call_range</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">call_range_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">collection</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">call_start</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">call_end</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">side</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">aisle</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>aisle refers to the aisle_id, which this call_range belongs to.</p>

<h2 id="landmark">landmark</h2>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">landmark_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">landmark_type</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p>floor refers to the floor_id, which this landmark belongs to.</p>

<h1 id="api-functions">API Functions</h1>

<p>The following are key functions provided by the API to allow interaction between the Map editor, Map generator and the database.</p>

<h2 id="login">login</h2>

<p><strong>Description:</strong> This fetches username and password information from the form, then runs custom credential checks. If successful, it creates a new token in the database and returns it to the client.</p>

<p>Custom credential checks routed to third party should be executed here.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code></td>
<td>Username entered by the client.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>Password entered by the client.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether login was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td>The token for this login, if successful. This is used as quick credential checks for subsequent db modifications.</td>
</tr>
</tbody></table>

<h2 id="create_library">create_library</h2>

<p>This creates a library in the database and returns a success flag along with the created library id.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>Name of the new library. This must be different from existing names in the database.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The library_id of the newly created Library record in the database.</td>
</tr>
</tbody></table>

<h2 id="create_floor">create_floor</h2>

<p>This creates a floor in the database and returns a success flag along with the created floor id. The newly created floor is empty.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>Name of the new library. This must be different from existing names in the database.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>Order of the new floor. Essentially a number that serves to order the floors. See database design document for details on how this works.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the library in which the floor will be created in.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The floor_id of the newly created Floor record in the database.</td>
</tr>
</tbody></table>

<h2 id="get_library_list">get_library_list</h2>

<p>This fetches the current list of libraries from the database. Note that no floor information is returned. Details of specific floor plans within a library can be retrieved via get_library().</p>

<h3 id="post-parameters">POST Parameters</h3>

<p>None.</p>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the retrieval was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td>An array of Libraries without floors property. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h2 id="get_library">get_library</h2>

<p>This fetches all information from a library, including details on its floors&rsquo; geometry and aisle data.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>ID of the library to fetch information on.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>A Library object. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h2 id="get_book_location">get_book_location</h2>

<p>This takes a book&rsquo;s call number and its located library and tries to locate the exact aisle containing the book. It also provides the floor plan data for that floor so a map can be drawn from it.</p>

<p>If multiple floors appear to contain the same book&rsquo;s call number, multiple floors will be returned. It is up to the caller to decide on what to do with the data.</p>

<p>The book&rsquo;s call number is stored as a string in the database, and it is in this function that we interpret that string and compare it with the given call number. This means that this is the function to modify if we want to use another call number system or fine tune how the call numbers should be parsed.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>Name of the library to find the book from.</td>
</tr>
<tr>
<td><code class="prettyprint">call_number</code></td>
<td>The book&rsquo;s call number in a string representation. For the format of this number in the current implementation, refer to documentation on call number.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether retrieval was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">floors</code></td>
<td>A numeric array of Floor object. Refer to the JSON data format for more information.</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>A numeric array of associative arrays each containing two elements, an &lsquo;aisle_id&rsquo; and a &lsquo;side&rsquo;. The former is the id of the aisle containing the given call number. The latter is present only if the aisle is double sided, in which case &lsquo;side&rsquo; identifies which side the book is on. 0 indicates the book is on the left, 1 indicates the book is on the right. Left and right are relative to the local space of the stack (where we disregard its rotation). At 0 rotation, a double sided aisle should have short width and long height, with two rectangles: one on the left and the other on the right.</td>
</tr>
</tbody></table>

<h2 id="update_library">update_library</h2>

<p>This updates a library&rsquo;s name. Note each library must have a unique name.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the library to perform the change to.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>New name of the library.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="update_floor">update_floor</h2>

<p>This updates a floor of a library. The floor includes aisles, call number ranges in aisles, aisle areas, aisles in aisle areas, call number ranges in aisles in aisle areas, landmarks, and walls.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>Floor object encoded in JSON. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="update_floor_meta">update_floor_meta</h2>

<p>This updates a floor&rsquo;s name and floor order within a library.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>Id of the floor to perform the change to.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>New name of the floor.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>New order of the floor.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="delete_library">delete_library</h2>

<p>This deletes a library and all floors associated with it. Deletions are not recoverable.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the library to delete.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the deletion was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="delete_floor">delete_floor</h2>

<p>This deletes a floor and all objects inside it. Deletions are not recoverable.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>Id of the floor to delete.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the deletion was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h1 id="database-specifications">Database Specifications</h1>

<h2 id="library">library</h2>

<p><strong>Description:</strong> This table saves information of each library that needs to be managed, and we can relate floors, stacks, books, etc. in the library</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the library, and it auto increments each time when a new library has been inserted into the table. It will be referred by table floor so that each floor knows which library it belongs to.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>CHAR(25) <br/> UNIQUE</td>
<td>It indicates the name of the library. Since it is not intuitive for administrator or the users to use id, we gives each library a name, so it is easier to manage, display and manipulate.</td>
</tr>
</tbody></table>

<h2 id="floor">floor</h2>

<p><strong>Description:</strong> This table saves the information for each floor, and each floor belongs to one and only one library. The floor has necessary information for generating maps and managing its relation with corresponding library.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>floor_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the floor, and it auto increments each time when a new floor has been inserted into the table. It will be referred by table wall, aisle_area, aisle, landmark to know which floor they belong to.</td>
</tr>
<tr>
<td>floor_name</td>
<td>CHAR(25)</td>
<td>It indicates the name of the floor. Since it is not intuitive for administrator or the users to use id, we gives each floor a name, so it is easier to manage, display and manipulate</td>
</tr>
<tr>
<td>floor_order</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the order of the floor in its corresponding library, so that we know which floor is above others and which floor is beneath others by comparing their floor_order. When display in may, the floor_order can be shown to user, so that users know where the floor locates in the library.</td>
</tr>
<tr>
<td>library</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table library’s library_id, and it helps to identify which library the wall belongs to.</td>
</tr>
</tbody></table>

<h2 id="wall">wall</h2>

<p><strong>Description:</strong> This table saves the information of walls on the floors, and saving such information can help for map generating.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>wall_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the wall, and it auto increments each time when a new wall has been inserted into the table. Even though it does not have any other use for the user, but it is a good convention to assign each wall an unique id.</td>
</tr>
<tr>
<td>start_x</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of where the wall starts.</td>
</tr>
<tr>
<td>start_y</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of where the wall starts.</td>
</tr>
<tr>
<td>end_x</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of where the wall ends.</td>
</tr>
<tr>
<td>end_y</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of where the wall ends.</td>
</tr>
<tr>
<td>floor</td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which floor the wall belongs to.</td>
</tr>
</tbody></table>

<h2 id="aisle_area">aisle_area</h2>

<p><strong>Description:</strong> This table saves information of aisle area, where aisle area is an area in a floor that can hold several aisles.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>aisle_area_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle_area, and it auto increments each time when a new aisle_area has been inserted into the table. It can also be referenced by table aisle, so that each aisle knows which aisle_area it belongs to.</td>
</tr>
<tr>
<td>center_x</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of aisle_area.</td>
</tr>
<tr>
<td>center_y</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of aisle_area.</td>
</tr>
<tr>
<td>width</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the width of aisle_area</td>
</tr>
<tr>
<td>height</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the height of aisle_area</td>
</tr>
<tr>
<td>rotation</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the aisle_area tilts relate to the floor</td>
</tr>
<tr>
<td>floor</td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which floor the aisle_area belongs to.</td>
</tr>
</tbody></table>

<h2 id="aisle">aisle</h2>

<p><strong>Description:</strong> This table saves information of aisle, where aisle can either has 1 or 2 sides, and it can hold books with multiple call ranges.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>aisle_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle. It auto increments each time when a new aisle has been inserted into the table. It can also be referenced by table call_range, so that each call_range knows which aisle it belongs to.</td>
</tr>
<tr>
<td>center_x</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of aisle.</td>
</tr>
<tr>
<td>center_y</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of aisle.</td>
</tr>
<tr>
<td>width</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the width of aisle</td>
</tr>
<tr>
<td>height</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the height of aisle</td>
</tr>
<tr>
<td>rotation</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the aisle tilts relate to the floor</td>
</tr>
<tr>
<td>is_double_sided</td>
<td>INT <br/> NOT NULL</td>
<td>It indicates if the aisle has two sides</td>
</tr>
<tr>
<td>aisle_area</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table aisle_area’s aisle_area_id, so that the aisle knows which aisle_area it belongs to</td>
</tr>
<tr>
<td>floor</td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which floor the aisle belongs to.</td>
</tr>
</tbody></table>

<h2 id="call_range">call_range</h2>

<p><strong>Description:</strong> This table saves information of call_range, where each call range saves what range of books are contained, and each call_range belongs to one and only one aisle.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>call_range_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle. It auto increments each time when a new aisle has been inserted into the table</td>
</tr>
<tr>
<td>collection</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates which collection that this call_range is under.</td>
</tr>
<tr>
<td>call_start</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates the lower bound of the call_range</td>
</tr>
<tr>
<td>call_end</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates the upper bound of the call_range</td>
</tr>
<tr>
<td>side</td>
<td>INT</td>
<td>It indicates which side on the aisle that the call_range belongs to</td>
</tr>
<tr>
<td>aisle</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table aisle’s aisle_id, and it helps to identify which aisle that the call_range locates</td>
</tr>
</tbody></table>

<h2 id="landmark">landmark</h2>

<p><strong>Description:</strong> This table saves information of landmarks, which can be any non-aisle and non-aisle area objects on the floor that are important to note, and they can be toilets, elevators, etc.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>landmark_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the landmark. It auto increments each time when a new landmark has been inserted into the table</td>
</tr>
<tr>
<td>landmark_type</td>
<td>CHAR(25) <br/> NOT NULL</td>
<td>It indicates what the landmark is. Currently our options includes elevators, toilets, stairs, and we can for sure have more if there is demand in the future.</td>
</tr>
<tr>
<td>center_x</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of landmark.</td>
</tr>
<tr>
<td>center_y</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of landmark.</td>
</tr>
<tr>
<td>width</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the width of landmark</td>
</tr>
<tr>
<td>height</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the height of landmark</td>
</tr>
<tr>
<td>rotation</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the landmark tilts relate to the floor</td>
</tr>
<tr>
<td>floor</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which floor the landmark belongs to.</td>
</tr>
</tbody></table>

<h2 id="token">token</h2>

<p><strong>Description:</strong> This table saves the information of the tokens, which is assigned to user each time when a user login. Each token has an expiration time, and the user needs to use username and password to login again if token expires.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>token_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the token. It auto increments each time when a new token has been inserted into the table</td>
</tr>
<tr>
<td>token_body</td>
<td>CHAR(64)</td>
<td>It saves the randomly generated token given to users when they login successfully with their username and password</td>
</tr>
<tr>
<td>expiration_date</td>
<td>DATETIME</td>
<td>It indicates the expiration date of a token. Once expiration_date is passed, the token can no longer be used, and therefore the user needs to login again with username and password if they wish to use the application for more time</td>
</tr>
</tbody></table>

<h2 id="users">users</h2>

<p><strong>Description:</strong> This table saves information of usernames and passwords that can be used to login.
user_id: it is an INT, and it is the primary key of the users. It auto increments each time when a new users has been inserted into the table</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>userid</td>
<td>INT <br/> NOT NULL</td>
<td>It auto increments each time when a new user has been inserted into the table</td>
</tr>
<tr>
<td>username</td>
<td>CHAR(25)</td>
<td>It saves valid username that can be used for login</td>
</tr>
<tr>
<td>password</td>
<td>CHAR(25)</td>
<td>It saves corresponding password for each username that can be used for login</td>
</tr>
</tbody></table>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&lsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
          </div>
      </div>
    </div>
  </body>
</html>
