<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Stack Map Reference Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>This is the documentation for Stack Maps, a project aimed at reducing time spent at find a book in a library. This documentation is designed for people maintaining the system. It describes the overall system architecture, database design, exposed API, and data transport formats.</p>

<p><a href="https://github.com/stack-maps/server">stack-maps/server</a>
<a href="https://github.com/stack-maps/map-editor">stack-maps/map-editor</a></p>

<h1 id="requirements">Requirements</h1>

<ul>
<li>A server that supports php 7.0.</li>
<li>MySQL database.</li>
</ul>

<h1 id="deployment">Deployment</h1>

<ol>
<li>Fork the server repository.</li>
<li>Clone the forked repository to local disk.</li>
<li>Locate <code class="prettyprint">db-setup.sql</code> file inside the repository. In your MySQL database, run <code class="prettyprint">db-setup.sql</code>. This will create all tables necessary for the system. By default the script does not create a new database. You can change this by uncommenting lines 20-21 in <code class="prettyprint">db-setup.sql</code>.</li>
<li>Locate <code class="prettyprint">api.php</code> file inside the repository. Replace lines 9-13 with your database information. Upload <code class="prettyprint">api.php</code> file on your server, preferrably on the same server as your database.</li>
<li>Locate <code class="prettyprint">displaymap.js</code> file inside the repository. Replace line 141 with your &lsquo;api.php&rsquo; file path. This can be an absolute path, relative path or an internet address. Upload <code class="prettyprint">displaymap.js</code> and <code class="prettyprint">index.html</code> files on your server in the same folder.</li>
</ol>

<p>The system is now up and running! Access the <code class="prettyprint">index.html</code> file to see how you would integrate the system into your library catalog page. Download the newest release from <a href="https://github.com/stack-maps/map-editor">stack-maps/map-editor</a> to start populating your library, or write your own following this API.</p>

<h1 id="architecture-overview">Architecture Overview</h1>

<p>The system uses a three-tiered architecture, with MySQL as database, php script as API for the database, and Javascript for displaying the map to users. Ideally, API and database are bundled together on one server, and the map displaying script is embedded into library catalog page.</p>

<h2 id="database">Database</h2>

<p>This project uses MySQL database. While any remote MySQL database can work, for security concerns it is the best to have the MySQL database and the access script on the same server, and disallow any remote access on the database. The file <code class="prettyprint">db-setup.sql</code> contains all necessary MySQL commands to setup a working database for the system.</p>

<h2 id="access-api">Access API</h2>

<p>The access API acts as the getter/setter of the database. It provides an extra layer of security as it can deny attacks on the database. For this project, the access API comes in the form of a php script. It will need host, port, username and password of the database. To set up the API, simply replace those information at the top of the file, then upload it to a server.</p>

<p>By default, anyone with the API&rsquo;s address is able to edit the library floor plans by logging in with the default usernameand password. Custom security authorization logic should be added to this script to allow or deny database updating API calls. Specifically, in the function <code class="prettyprint">login()</code> the username and password sent by the library maintenance staff should be forwarded to a third-party authorization server, such as a university network authentication service. <code class="prettyprint">login()</code> should then pass on the result back to the user in the correct format, described in the API section below.</p>

<p>All API functions use prepared MySQL statements and care has been taken to prevent SQL injection attacks.</p>

<h2 id="map">Map</h2>

<p>The map is what library patrons see when they want to see the location of a book they are searching for. Map is a Javascript file that has a single function to display the map (not counting helpers). It requires the address of the API hardcoded into the file before deployment (see <a href="#Deployment">Deployment</a>). You will find a simple example of an HTML page utilizing the map in the repo.</p>

<h2 id="map-editor">Map Editor</h2>

<p>The map editor is a separate part of this project aimed to provide an easy method to create and maintain library information.
Once the server set up is complete. It should be noted that the editor also interact with the database via the API. Therefore the editor can be entirely separated out from the server design. For the official map editor, refer to <a href="https://github.com/stack-maps/map-editor">this repository</a>.</p>

<h2 id="call-numbers">Call Numbers</h2>

<p>For this project, we use Library of Congress call number system, although it is not too hard to implement another type of call number system.</p>

<p>The Library of Congress call number system dissects a call number into several parts. For our purposes, we only need to look at a number&rsquo;s first four parts, class, subclass, and two cutter numbers. For example, <code class="prettyprint">CL 50.26 .G5 .C8</code> has class of <code class="prettyprint">CL</code>, subclass of <code class="prettyprint">50.26</code>, first cutter of <code class="prettyprint">.G5</code> and second cutter of <code class="prettyprint">.C8</code>. Sometimes it is written without spaces between them: <code class="prettyprint">CL50.26.G5.C8</code>.</p>

<p>A call number range can be far less specific, however. We can have a call range of <code class="prettyprint">A 5 - A 20</code>, or even <code class="prettyprint">B - C</code>. We allow partial call numbers in the system, but we must define exactly what the ordering is between them. First, we assume that if a call number has one part, then it must have the preceding part. For example, if a call number has a cutter, we assume it must also have a subclass (and subsequently the class as well). Second, if two call numbers, <code class="prettyprint">A</code> and <code class="prettyprint">B</code>, agree on every preceding part, but <code class="prettyprint">A</code> has the next part where <code class="prettyprint">B</code> does not, then <code class="prettyprint">A &gt; B</code>. Finally, we require that every call number in the system must contain at least a class. We reject empty call numbers.</p>

<h1 id="json-format">JSON Format</h1>

<p>This is the format of data sent to and received from the API script. No encryption is used between the transportation. It is advised to host the database and API on a serverwith HTTPS SSL certificate to prevent middleman attacks.</p>

<h2 id="library">library</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"library_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"library_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Uris"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"floors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">floors</code></td>
<td>array of <a href="#floor">floor</a> objects</td>
</tr>
</tbody></table>

<h2 id="floor">floor</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"floor_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"floor_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Level 1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"floor_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"walls"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"aisle_areas"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"landmarks"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
  </span><span class="s2">"library"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">walls</code></td>
<td>array of <a href="#wall">wall</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisle_areas</code></td>
<td>array of <a href="#aisle_area">aisle_area</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>array of <a href="#aisle">aisle</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">landmarks</code></td>
<td>array of <a href="#landmark">landmark</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">library</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">library</code> refers to the library_id, which this <code class="prettyprint">floor</code> belongs to..</p>

<h2 id="wall">wall</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"start_x"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"start_y"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_x"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">30.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"end_y"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">33.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"floor"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">wall_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">start_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">start_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">end_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">end_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">floor</code> refers to the floor_id, which this wall belongs to.</p>

<h2 id="aisle_area">aisle_area</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"center_x"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"center_y"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"width"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">30.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"height"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">33.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rotation"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span><span class="w">
  </span><span class="s2">"aisles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_area_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>array of <a href="#aisle">aisle</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">floor</code> refers to the <code class="prettyprint">floor_id</code>, which this <code class="prettyprint">aisle_area</code> belongs to.</p>

<h2 id="aisle">aisle</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"center_x"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"center_y"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"length"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">30.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"width"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">33.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rotation"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w">
  </span><span class="s2">"is_double_sided"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"call-range"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">is_double_sided</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">call_ranges</code></td>
<td>array of <a href="#call_range">call_range</a> objects</td>
</tr>
<tr>
<td><code class="prettyprint">aisle_area</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">aisle_area</code> refers to the <code class="prettyprint">aisle_area_id</code>, which this aisle belongs to.
<code class="prettyprint">floor</code> refers to the floor_id, which this aisle belongs to.
<code class="prettyprint">is_double_sided</code> is an int with values 0 and 1, effectively a boolean.</p>

<h2 id="call_range">call_range</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"collection"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OVER"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"call_start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"call_end"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"F"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">call_range_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">collection</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">call_start</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">call_end</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">side</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">aisle</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">aisle</code> refers to the <code class="prettyprint">aisle_id</code>, which this <code class="prettyprint">call_range</code> belongs to. <code class="prettyprint">call_start</code> and <code class="prettyprint">call_end</code> must be valid partial call numbers, with at least the class letters.</p>

<h2 id="landmark">landmark</h2>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"landmark_type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Stairs"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"center_x"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"center_y"</span><span class="p">:</span><span class="w"> </span><span class="mf">16.8</span><span class="p">,</span><span class="w">
  </span><span class="s2">"length"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">30.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"width"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mf">33.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"rotation"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">landmark_id</code></td>
<td>int</td>
</tr>
<tr>
<td><code class="prettyprint">landmark_type</code></td>
<td>string</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>float</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>int</td>
</tr>
</tbody></table>

<p><code class="prettyprint">floor</code> refers to the <code class="prettyprint">floor_id</code>, which this <code class="prettyprint">landmark</code> belongs to. <code class="prettyprint">landmark_type</code> can take on the values <code class="prettyprint">Stairs</code>, <code class="prettyprint">Restroom</code> and <code class="prettyprint">Elevator</code>.</p>

<h1 id="api-functions">API Functions</h1>

<p>The following are key functions provided by the API to allow interaction between the Map editor, Map generator and the database.</p>

<p>They are called using POST and responses are formatted as a Json object specified above.</p>

<h2 id="login">login</h2>

<p><strong>Description:</strong> This fetches username and password information from the form, then runs custom credential checks. If successful, it creates a new token in the database and returns it to the client.</p>

<p>Custom credential checks routed to third party should be executed here.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">username</code></td>
<td>Username entered by the client.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>Password entered by the client.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether login was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td>The token for this login, if successful. This is used as quick credential checks for subsequent db modifications.</td>
</tr>
</tbody></table>

<h2 id="create_library">create_library</h2>

<p>This creates a <code class="prettyprint">library</code> in the database and returns a success flag along with the created <code class="prettyprint">library</code> id.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>Name of the new library. This must be different from existing names in the database.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The library_id of the newly created <code class="prettyprint">library</code> record in the database.</td>
</tr>
</tbody></table>

<h2 id="create_floor">create_floor</h2>

<p>This creates a <code class="prettyprint">floor</code> in the database and returns a success flag along with the created <code class="prettyprint">floor</code> id. The newly created <code class="prettyprint">floor</code> is empty.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>Name of the new library. This must be different from existing names in the database.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>Order of the new floor. Essentially a number that serves to order the floors. See database design document for details on how this works.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the <code class="prettyprint">library</code> in which the <code class="prettyprint">floor</code> will be created in.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>The <code class="prettyprint">floor_id</code> of the newly created <code class="prettyprint">floor</code> record in the database.</td>
</tr>
</tbody></table>

<h2 id="get_library_list">get_library_list</h2>

<p>This fetches the current list of libraries from the database. Note that no <code class="prettyprint">floor</code> information is returned. Details of specific <code class="prettyprint">floor</code> plans within a <code class="prettyprint">library</code> can be retrieved via <code class="prettyprint">get_library()</code>.</p>

<h3 id="post-parameters">POST Parameters</h3>

<p>None.</p>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the retrieval was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td>An array of Libraries without floors property. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h2 id="get_library">get_library</h2>

<p>This fetches all information from a <code class="prettyprint">library</code>, including details on its floors&rsquo; geometry and aisle data.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>ID of the <code class="prettyprint">library</code> to fetch information on.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether creation was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">data</code></td>
<td>A <code class="prettyprint">library</code> object. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h2 id="get_book_location">get_book_location</h2>

<p>This takes a book&rsquo;s call number and its located <code class="prettyprint">library</code> and tries to locate the exact aisle containing the book. It also provides the <code class="prettyprint">floor</code> plan data for that <code class="prettyprint">floor</code> so a map can be drawn from it.</p>

<p>If multiple floors appear to contain the same book&rsquo;s call number, multiple floors will be returned. It is up to the caller to decide on what to do with the data.</p>

<p>The book&rsquo;s call number is stored as a string in the database, and it is in this function that we interpret that string and compare it with the given call number. This means that this is the function to modify if we want to use another call number system or fine tune how the call numbers should be parsed.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>Name of the <code class="prettyprint">library</code> to find the book from.</td>
</tr>
<tr>
<td><code class="prettyprint">call_number</code></td>
<td>The book&rsquo;s call number in a string representation. For the format of this number in the current implementation, refer to documentation on call number.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether retrieval was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
<tr>
<td><code class="prettyprint">floors</code></td>
<td>A numeric array of <code class="prettyprint">floor</code> object. Refer to the JSON data format for more information.</td>
</tr>
<tr>
<td><code class="prettyprint">aisles</code></td>
<td>A numeric array of associative arrays each containing two elements, an &lsquo;aisle_id&rsquo; and a &lsquo;side&rsquo;. The former is the id of the aisle containing the given call number. The latter is present only if the aisle is double sided, in which case &lsquo;side&rsquo; identifies which side the book is on. 0 indicates the book is on the left, 1 indicates the book is on the right. Left and right are relative to the local space of the stack (where we disregard its rotation). At 0 rotation, a double sided aisle should have short <code class="prettyprint">width</code> and long height, with two rectangles: one on the left and the other on the right.</td>
</tr>
</tbody></table>

<h2 id="update_library">update_library</h2>

<p>This updates a <code class="prettyprint">library</code>&lsquo;s name. Note each <code class="prettyprint">library</code> must have a unique name.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the <code class="prettyprint">library</code> to perform the change to.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>New name of the library.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="update_floor">update_floor</h2>

<p>This updates a <code class="prettyprint">floor</code> of a library. The <code class="prettyprint">floor</code> includes aisles, call number ranges in aisles, aisle areas, aisles in aisle areas, call number ranges in aisles in aisle areas, landmarks, and walls.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td><code class="prettyprint">floor</code> object encoded in JSON. Refer to the JSON data format for more information.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="update_floor_meta">update_floor_meta</h2>

<p>This updates a <code class="prettyprint">floor</code>&rsquo;s name and <code class="prettyprint">floor</code> order within a library.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>Id of the <code class="prettyprint">floor</code> to perform the change to.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>New name of the floor.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_order</code></td>
<td>New order of the floor.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the update was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="delete_library">delete_library</h2>

<p>This deletes a <code class="prettyprint">library</code> and all floors associated with it. Deletions are not recoverable.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>Id of the <code class="prettyprint">library</code> to delete.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the deletion was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h2 id="delete_floor">delete_floor</h2>

<p>This deletes a <code class="prettyprint">floor</code> and all objects inside it. Deletions are not recoverable.</p>

<h3 id="post-parameters">POST Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token</code></td>
<td>Access token given from login.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>Id of the <code class="prettyprint">floor</code> to delete.</td>
</tr>
</tbody></table>

<h3 id="response-format">Response Format</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">success</code></td>
<td>Whether the deletion was successful.</td>
</tr>
<tr>
<td><code class="prettyprint">error</code></td>
<td>The error message, if not successful.</td>
</tr>
</tbody></table>

<h1 id="database-specifications">Database Specifications</h1>

<h2 id="library">library</h2>

<p><strong>Description:</strong> This table saves information of each <code class="prettyprint">library</code> that needs to be managed, and we can relate floors, stacks, books, etc. in the library</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">library_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the library, and it auto increments each time when a new <code class="prettyprint">library</code> has been inserted into the table. It will be referred by table <code class="prettyprint">floor</code> so that each <code class="prettyprint">floor</code> knows which <code class="prettyprint">library</code> it belongs to.</td>
</tr>
<tr>
<td><code class="prettyprint">library_name</code></td>
<td>CHAR(25) <br/> UNIQUE</td>
<td>It indicates the name of the library. Since it is not intuitive for administrator or the users to use id, we gives each <code class="prettyprint">library</code> a name, so it is easier to manage, display and manipulate.</td>
</tr>
</tbody></table>

<h2 id="floor">floor</h2>

<p><strong>Description:</strong> This table saves the information for each floor, and each <code class="prettyprint">floor</code> belongs to one and only one library. The <code class="prettyprint">floor</code> has necessary information for generating maps and managing its relation with corresponding library.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">floor_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the floor, and it auto increments each time when a new <code class="prettyprint">floor</code> has been inserted into the table. It will be referred by table wall, aisle_area, aisle, landmark to know which <code class="prettyprint">floor</code> they belong to.</td>
</tr>
<tr>
<td><code class="prettyprint">floor_name</code></td>
<td>CHAR(25)</td>
<td>It indicates the name of the floor. Since it is not intuitive for administrator or the users to use id, we gives each <code class="prettyprint">floor</code> a name, so it is easier to manage, display and manipulate</td>
</tr>
<tr>
<td>floor_order</td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the order of the <code class="prettyprint">floor</code> in its corresponding library, so that we know which <code class="prettyprint">floor</code> is above others and which <code class="prettyprint">floor</code> is beneath others by comparing their floor_order. When display in may, the floor_order can be shown to user, so that users know where the <code class="prettyprint">floor</code> locates in the library.</td>
</tr>
<tr>
<td><code class="prettyprint">library</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table library’s library_id, and it helps to identify which <code class="prettyprint">library</code> the wall belongs to.</td>
</tr>
</tbody></table>

<h2 id="wall">wall</h2>

<p><strong>Description:</strong> This table saves the information of walls on the floors, and saving such information can help for map generating.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">wall_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the wall, and it auto increments each time when a new wall has been inserted into the table. Even though it does not have any other use for the user, but it is a good convention to assign each wall an unique id.</td>
</tr>
<tr>
<td><code class="prettyprint">start_x</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of where the wall starts.</td>
</tr>
<tr>
<td><code class="prettyprint">start_y</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of where the wall starts.</td>
</tr>
<tr>
<td><code class="prettyprint">end_x</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of where the wall ends.</td>
</tr>
<tr>
<td><code class="prettyprint">end_y</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of where the wall ends.</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which <code class="prettyprint">floor</code> the wall belongs to.</td>
</tr>
</tbody></table>

<h2 id="aisle_area">aisle_area</h2>

<p><strong>Description:</strong> This table saves information of aisle area, where aisle area is an area in a <code class="prettyprint">floor</code> that can hold several aisles.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_area_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle_area, and it auto increments each time when a new <code class="prettyprint">aisle_area</code> has been inserted into the table. It can also be referenced by table aisle, so that each aisle knows which <code class="prettyprint">aisle_area</code> it belongs to.</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of aisle_area.</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of aisle_area.</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">width</code> of aisle_area</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">height</code> of aisle_area</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the aisle_area tilts relate to the floor</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which <code class="prettyprint">floor</code> the aisle_area belongs to.</td>
</tr>
</tbody></table>

<h2 id="aisle">aisle</h2>

<p><strong>Description:</strong> This table saves information of aisle, where aisle can either has 1 or 2 sides, and it can hold books with multiple call ranges.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">aisle_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle. It auto increments each time when a new aisle has been inserted into the table. It can also be referenced by table call_range, so that each call_range knows which aisle it belongs to.</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of aisle.</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of aisle.</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">width</code> of aisle</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">height</code> of aisle</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the aisle tilts relate to the floor</td>
</tr>
<tr>
<td>is_double_sided</td>
<td>INT <br/> NOT NULL</td>
<td>It indicates if the aisle has two sides</td>
</tr>
<tr>
<td>aisle_area</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table aisle_area’s aisle_area_id, so that the aisle knows which aisle_area it belongs to</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>INT</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which <code class="prettyprint">floor</code> the aisle belongs to.</td>
</tr>
</tbody></table>

<h2 id="call_range">call_range</h2>

<p><strong>Description:</strong> This table saves information of call_range, where each call range saves what range of books are contained, and each call_range belongs to one and only one aisle.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>call_range_id</td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the aisle. It auto increments each time when a new aisle has been inserted into the table</td>
</tr>
<tr>
<td>collection</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates which collection that this call_range is under. Currently supporting <em>empty</em> (regular), <code class="prettyprint">+</code> (oversized) and <code class="prettyprint">++</code> (double oversized).</td>
</tr>
<tr>
<td>call_start</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates the lower bound of the call_range</td>
</tr>
<tr>
<td>call_end</td>
<td>CHAR(50) <br/> NOT NULL</td>
<td>It indicates the upper bound of the call_range</td>
</tr>
<tr>
<td>side</td>
<td>INT</td>
<td>It indicates which side on the aisle that the call_range belongs to</td>
</tr>
<tr>
<td>aisle</td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table aisle’s aisle_id, and it helps to identify which aisle that the call_range locates</td>
</tr>
</tbody></table>

<h2 id="landmark">landmark</h2>

<p><strong>Description:</strong> This table saves information of landmarks, which can be any non-aisle and non-aisle area objects on the <code class="prettyprint">floor</code> that are important to note, and they can be toilets, elevators, etc.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">landmark_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the landmark. It auto increments each time when a new landmark has been inserted into the table</td>
</tr>
<tr>
<td><code class="prettyprint">landmark_type</code></td>
<td>CHAR(25) <br/> NOT NULL</td>
<td>It indicates what the landmark is. Currently our options includes elevators, toilets, stairs, and we can for sure have more if there is demand in the future.</td>
</tr>
<tr>
<td><code class="prettyprint">center_x</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the x-axis coordinate of the center of landmark.</td>
</tr>
<tr>
<td><code class="prettyprint">center_y</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the y-axis coordinate of the center of landmark.</td>
</tr>
<tr>
<td><code class="prettyprint">width</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">width</code> of landmark</td>
</tr>
<tr>
<td><code class="prettyprint">height</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates the <code class="prettyprint">height</code> of landmark</td>
</tr>
<tr>
<td><code class="prettyprint">rotation</code></td>
<td>FLOAT <br/> NOT NULL</td>
<td>It indicates angle that the landmark tilts relate to the floor</td>
</tr>
<tr>
<td><code class="prettyprint">floor</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is a foreign key links to table floor’s floor_id, and it helps to identify which <code class="prettyprint">floor</code> the landmark belongs to.</td>
</tr>
</tbody></table>

<h2 id="token">token</h2>

<p><strong>Description:</strong> This table saves the information of the tokens, which is assigned to user each time when a user login. Each token has an expiration time, and the user needs to use username and password to login again if token expires.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">token_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It is the primary key of the token. It auto increments each time when a new token has been inserted into the table</td>
</tr>
<tr>
<td>token_body</td>
<td>CHAR(64)</td>
<td>It saves the randomly generated token given to users when they login successfully with their username and password</td>
</tr>
<tr>
<td>expiration_date</td>
<td>DATETIME</td>
<td>It indicates the expiration date of a token. Once expiration_date is passed, the token can no longer be used, and therefore the user needs to login again with username and password if they wish to use the application for more time</td>
</tr>
</tbody></table>

<h2 id="users">users</h2>

<p><strong>Description:</strong> This table saves information of usernames and passwords that can be used to login.
user_id: it is an INT, and it is the primary key of the users. It auto increments each time when a new users has been inserted into the table</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Data type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">user_id</code></td>
<td>INT <br/> NOT NULL</td>
<td>It auto increments each time when a new user has been inserted into the table</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>CHAR(25)</td>
<td>It saves valid username that can be used for login</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>CHAR(25)</td>
<td>It saves corresponding password for each username that can be used for login</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
